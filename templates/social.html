<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Social Media Scam Detector - SecureGuard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{ --bg:#EEF2FF; --card:rgba(255,255,255,0.65); --muted:#6B7280; --glass-border:rgba(255,255,255,0.6); --glass-shadow:rgba(16,24,40,0.06); }
    html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:#0f172a;}
    .page{max-width:900px;margin:36px auto;padding:0 16px;}
    /* header */
    .sg-top-nav { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:16px; }
    .sg-brand { display:flex; gap:14px; align-items:center; text-decoration:none; color:inherit; }
    .sg-logo-box{ width:44px; height:44px; border-radius:10px; background: linear-gradient(135deg,#6F5CFF,#8B7CFF); display:flex; align-items:center; justify-content:center; box-shadow:0 8px 20px rgba(124,107,255,0.10); }
    .sg-logo-text{ display:flex; flex-direction:column; line-height:1; }
    .sg-logo-text .sg-title{ font-weight:700; font-size:15px; }
    .sg-logo-text .sg-tag{ font-size:12px; color:var(--muted); margin-top:2px; }
    .sg-navlinks{ display:flex; gap:8px; align-items:center; }
    .sg-navlink{ text-decoration:none; padding:6px 12px; font-size:13px; border-radius:999px; color:#4B5563; border:1px solid transparent; }
    .sg-navlink:hover{ background:#E9EEFF; }
    .sg-navlink.active{ background:#4F46E5; color:white; border-color:#4F46E5; }

    /* card */
    .card{ background:var(--card); border-radius:12px; padding:20px; border:1px solid var(--glass-border); box-shadow:0 12px 30px var(--glass-shadow); backdrop-filter: blur(8px); }
    h1{ margin:0 0 8px; font-size:22px; }
    .subtitle{ color:var(--muted); margin-bottom:14px; font-size:13px; }
    textarea{ width:100%; min-height:180px; padding:12px; border-radius:10px; border:1px solid #CBD5F5; font-size:14px; box-sizing:border-box; resize:vertical; }
    textarea:focus{ outline:none; box-shadow:0 0 0 4px rgba(114,224,193,0.06); border-color:#6BD8FF; }
    button{ margin-top:12px; padding:10px 18px; border-radius:999px; border:none; background:linear-gradient(90deg,#72E0C1,#6BD8FF); color:#063; font-weight:700; cursor:pointer; }
    .result-card{ margin-top:18px; padding-top:14px; border-top:1px solid #E5E7EB; }
    .status-pill{ display:inline-block; padding:6px 10px; border-radius:999px; font-weight:700; font-size:13px; }
    .status-danger{ background:#FEE2E2; color:#B91C1C; }
    .status-warning{ background:#FEF3C7; color:#92400E; }
    .status-safe{ background:#DCFCE7; color:#166534; }
    .label-muted{ color:var(--muted); font-size:13px; }
    ul{ padding-left:20px; margin:8px 0; }
  </style>
</head>
<body>
  <div class="page">

    <!-- header -->
    <div class="sg-top-nav">
      <a href="{{ url_for('home_page') }}" class="sg-brand" aria-label="Go to SecureGuard home" style="text-decoration:none;">
        <div class="sg-logo-box" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3.7l1 2.3 2.3 1-2.3 1-1 2.3-1-2.3L8.7 7l2.3-1 1-2.3z" fill="white" opacity="0.98"/><path d="M18.8 5.6l.6 1.4 1.4.6-1.4.6-.6 1.4-.6-1.4-1.4-.6 1.4-.6.6-1.4z" fill="white" opacity="0.9"/></svg>
        </div>
        <div class="sg-logo-text">
          <span class="sg-title">SecureGuard</span>
          <span class="sg-tag">Gentle, smart protection</span>
        </div>
      </a>

      <div class="sg-navlinks" role="navigation" aria-label="Main navigation">
        <a href="{{ url_for('home_page') }}" class="sg-navlink {% if request.path == url_for('home_page') %}active{% endif %}">Home</a>
        <a href="{{ url_for('email_page') }}" class="sg-navlink {% if request.path == url_for('email_page') %}active{% endif %}">Email</a>
        <a href="{{ url_for('social_page') }}" class="sg-navlink {% if request.path == url_for('social_page') %}active{% endif %}">Social</a>
        <a href="{{ url_for('job_page') }}" class="sg-navlink {% if request.path == url_for('job_page') %}active{% endif %}">Job</a>
      </div>
    </div>

    <div class="card">
      <h1>Social Media Scam Detector</h1>
      <p class="subtitle">Paste WhatsApp / Instagram / Telegram messages to detect lottery, romance, investment and fee scams.</p>

      <form method="POST">
        <textarea name="message_text" placeholder="Paste the message here...">{{ message_text }}</textarea>
        <br>
        <button type="submit">Analyze Message</button>
      </form>

      {% if result %}
      <div class="result-card" role="status" aria-live="polite">
        {% set pill = "status-safe" %}
        {% if "High Risk" in result.label or "Scam" in result.label %}
          {% set pill = "status-danger" %}
        {% elif "Suspicious" in result.label %}
          {% set pill = "status-warning" %}
        {% endif %}

        <div class="status-pill {{ pill }}">{{ result.label }}</div>
        <p class="label-muted">Risk score: <strong>{{ result.risk }}/100</strong></p>

        <p class="label-muted"><strong>Reasons:</strong></p>
        <ul>
          {% for r in result.reasons %}
            <li>{{ r }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
    </div>

  </div>
</body>
</html>
